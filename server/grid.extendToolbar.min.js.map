{"version":3,"sources":["grid.extendToolbar.js"],"names":["extendGridToolbar","init","da","this","apex","debug","log","vGroup","action","attribute01","vPosition","attribute02","vLabel","attribute03","vHot","attribute04","vIcon","attribute05","vIconOnly","attribute06","vIconPosition","attribute07","vTitle","attribute08","vAction","attribute09","vDisabled","attribute10","vHidden","attribute11","vRegionId","affectedElements","id","vRegion$","jQuery","vWidget$","region","widget","toolbar","interactiveGrid","toolbarGroup","vaButton","type","label","title","labelKey","icon","iconOnly","iconBeforeLabel","hot","controls","unshift","push","vActions","vAction$","lookup","hide","disabled","add","name","event","element","trigger"],"mappings":";;;;;;;AAAA,GAAAA,oBAGAC,KAAA,WACA,GAAAC,GAAAC,IACAC,MAAAC,MAAAC,IAAA,yBAAAJ,EAJA,IAAAK,GAAAL,EAAAM,OAAAC,YACAC,EAAAR,EAAAM,OAAAG,YACAC,EAAAV,EAAAM,OAAAK,YACAC,EAAA,KAAAZ,EAAAM,OAAAO,YACAC,EAAAd,EAAAM,OAAAS,YACAC,EAAA,KAAAhB,EAAAM,OAAAW,YACAC,EAAA,KAAAlB,EAAAM,OAAAa,YACAC,EAAApB,EAAAM,OAAAe,YACAC,EAAAtB,EAAAM,OAAAiB,YACAC,EAAA,KAAAxB,EAAAM,OAAAmB,YACAC,EAAA,KAAA1B,EAAAM,OAAAqB,YAGAC,EAAA5B,EAAA6B,iBAAA,GAAAC,GACAC,EAAA7B,KAAA8B,OAAAhC,EAAA6B,iBAAA,GAIAf,KACAA,EAAA,MAAAA,EAGA,IAGAmB,GAAA/B,KAAAgC,OAAAN,GAAAO,SAGAC,EAAAH,EAAAI,gBAAA,cAGAC,EAAAF,EAAAA,QAAA,YAAA/B,GAEAkC,GACAC,KAAA,SACAC,MAAA/B,EACAgC,MAAAtB,EACAuB,SAAAjC,EACAJ,OAAAgB,EACAsB,KAAA9B,EACA+B,SAAA7B,EACA8B,gBAAA5B,EACA6B,IAAAnC,EAIA,MAAAJ,EACA8B,EAAAU,SAAAC,QAAAV,GAEAD,EAAAU,SAAAE,KAAAX,EAIA,IAAAY,GAAAlB,EAAAI,gBAAA,cAGAe,EAAAD,EAAAE,OAAA/B,EACA8B,IAWAA,EAAAE,KAAA5B,EACA0B,EAAAG,SAAA/B,GAXA2B,EAAAK,KAEAC,KAAAnC,EACAhB,OAAA,SAAAoD,EAAAC,GACAzD,KAAAwD,MAAAE,QAAA7B,EAAAT,IAEAgC,KAAA5B,EACA6B,SAAA/B,IASAY,EAAAA,QAAA","file":"grid.extendToolbar.min.js","sourcesContent":["var extendGridToolbar = {\n\n  // Init Function\n  init: function(){\n    var da = this;\n    apex.debug.log('extendGridToolbar.init',da);\n\n    // get plugin attributes\n    var vGroup        = da.action.attribute01;\n    var vPosition     = da.action.attribute02; // F - first, L - last\n    var vLabel        = da.action.attribute03;\n    var vHot          = da.action.attribute04 == 'Y' ? true : false;\n    var vIcon         = da.action.attribute05;\n    var vIconOnly     = da.action.attribute06 == 'Y' ? true : false;\n    var vIconPosition = da.action.attribute07 == 'B' ? true : false;\n    var vTitle        = da.action.attribute08;\n    var vAction       = da.action.attribute09; // action\n    var vDisabled     = da.action.attribute10 == 'Y' ? true : false; // disable\n    var vHidden       = da.action.attribute11 == 'Y' ? true : false; // hidden\n\n    // get Region\n    var vRegionId = da.affectedElements[0].id;\n    var vRegion$ = apex.jQuery(da.affectedElements[0]);\n\n    // check icon\n    // toDo: check if there's already fa class\n    if (vIcon){\n      vIcon = 'fa '+vIcon;\n    }\n\n    var vActionName = 'my-custom-action';\n\n    // Get Widget\n    var vWidget$ = apex.region(vRegionId).widget();\n\n    // Grid created\n    var toolbar = vWidget$.interactiveGrid(\"getToolbar\");\n\n    // find toolbar group\n    var toolbarGroup = toolbar.toolbar('findGroup', vGroup);\n\n    var vaButton = {\n      type: 'BUTTON',\n      label: vLabel,\n      title: vTitle,\n      labelKey: vLabel, // label from text messages\n      action: vAction,\n      icon: vIcon,\n      iconOnly: vIconOnly,\n      iconBeforeLabel: vIconPosition,\n      hot: vHot\n    };\n\n    // add button\n    if (vPosition == 'F'){\n      toolbarGroup.controls.unshift(vaButton)\n    }else{\n      toolbarGroup.controls.push(vaButton);\n    };\n\n    // add actions\n    var vActions = vWidget$.interactiveGrid('getActions');\n\n    // check if action exists, then just assign it\n    var vAction$ = vActions.lookup(vAction);\n    if(!vAction$){\n      vActions.add(\n        {\n          name   : vAction\n        , action : function(event, element) {\n            apex.event.trigger(vRegion$, vAction);\n         }\n        , hide:vHidden\n        , disabled:vDisabled\n       });\n     }else{\n       vAction$.hide = vHidden;\n       vAction$.disabled = vDisabled;\n     }\n\n\n    // refresh grid\n    toolbar.toolbar('refresh');\n  }\n};\n"]}